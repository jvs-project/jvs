---
# Repository management tasks

- name: Ensure JVS repositories exist
  include_tasks: create_repository.yml
  vars:
    repo_name: "{{ item.name }}"
    repo_path: "{{ item.path | default(jvs_repositories_base_path + '/' + item.name) }}"
    repo_engine: "{{ item.engine | default(jvs_default_engine) }}"
    repo_tags: "{{ item.default_tags | default(jvs_default_tags) }}"
  loop: "{{ jvs_repositories }}"
  loop_control:
    label: "{{ item.name }}"
