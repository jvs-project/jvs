---
# Configuration tasks for JVS

- name: Create JVS configuration directory
  file:
    path: "{{ jvs_config_dir }}"
    state: directory
    mode: '0755'
  tags: ['jvs', 'config']

- name: Deploy JVS global configuration
  template:
    src: config.yaml.j2
    dest: "{{ jvs_config_dir }}/config.yaml"
    mode: '0644'
  when: jvs_default_engine or jvs_default_tags or jvs_webhooks_enabled
  notify: reload jvs config
  tags: ['jvs', 'config']

- name: Install shell completion
  include_tasks: completion.yml
  tags: ['jvs', 'config', 'completion']
