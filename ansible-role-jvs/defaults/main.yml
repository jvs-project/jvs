---
# Default variables for JVS role

# JVS installation
jvs_version: "v7.0"  # GitHub release tag or "latest" or "source"
jvs_install_method: "release"  # "release" or "source"
jvs_go_version: "1.21"
jvs_bin_dir: "/usr/local/bin"
jvs_user: "root"
jvs_group: "root"

# JVS configuration
jvs_default_engine: "auto"  # auto, copy, reflink-copy, juicefs-clone
jvs_default_tags: []
jvs_output_format: "text"  # text or json
jvs_progress_enabled: true

# JVS repositories
jvs_repositories: []
# Example:
# jvs_repositories:
#   - name: my-workspace
#     path: /opt/workspace
#     engine: juicefs-clone
#     default_tags: ["production"]

# Snapshot templates
jvs_snapshot_templates: {}
# Example:
# jvs_snapshot_templates:
#   checkpoint:
#     note: "Checkpoint: {datetime}"
#     tags: ["checkpoint"]
#   backup:
#     note: "Backup: {datetime}"
#     tags: ["backup"]
#     compression: "max"

# Retention policy
jvs_retention_enabled: false
jvs_retention_min_snapshots: 10
jvs_retention_min_age: "24h"

# Garbage collection
jvs_gc_enabled: false
jvs_gc_schedule: ""  # cron format, e.g., "0 2 * * *"
jvs_gc_systemd_timer: false

# Webhook notifications
jvs_webhooks_enabled: false
jvs_webhooks: []
# Example:
# jvs_webhooks:
#   - url: https://example.com/webhook
#     secret: "my-secret"
#     events: ["snapshot.created", "restore.complete"]

# System configuration
jvs_config_dir: "/etc/jvs"
jvs_profile_d: true  # Add JVS to PATH via /etc/profile.d/jvs.sh
